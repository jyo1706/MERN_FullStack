import{e as k,u as D,g as E,r as a,S as B,a as u,j as e,d as l,f as w}from"./vendor-D_SluWwt.js";/* empty css                  */import{u as I,T as P}from"./TotalPrice-D4dqfwTt.js";import{B as _,P as R}from"./index-CdPhSO8q.js";function Y(){const m=k(),c=D(),x=E().id;a.useEffect(()=>{y({type:"btn",payload:!1}),r({type:"payment",payload:!0}),localStorage.setItem("page","addToCard");const s=localStorage.getItem("cartMessage");(s==="Address Add successfully"||s==="Address Update successfully")&&B.fire({title:s,icon:"success",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"ok!"}),localStorage.removeItem("cartMessage")},[]);const p=a.useCallback(s=>{s.preventDefault();const t=s.target,C=new FormData(t),S=Object.fromEntries(C.entries());u.post("https://mern-fullstack-1-j3k1.onrender.com/address",S,{withCredentials:!0}).then(d=>{d.data.status==="Address Add successfully"&&(c(0,{state:{message:d.data.status}}),localStorage.setItem("cartMessage","Address Add successfully"))}).catch(d=>{console.log(d)})},[]),{quantities:j}=I();a.useEffect(()=>{u.get("https://mern-fullstack-1-j3k1.onrender.com/findAddress",{withCredentials:!0}).then(s=>{g(s.data.data)}).catch(s=>{console.log(s)})},[c,m.pathname]);function f(s){b(s),N(!1)}const[n,g]=a.useState(),[o,b]=a.useState(),{btnDispatch:y}=a.useContext(_),{paymentDispatch:r}=a.useContext(R),[v,A]=a.useState(!0),[i,N]=a.useState(!0),h=localStorage.getItem("BuyNow");return e.jsx(e.Fragment,{children:n?e.jsxs("div",{className:"productDetailContainer container",children:[e.jsx("div",{className:"product",children:v&&n&&n.length>=1?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h3",{children:"Select Address"}),e.jsxs("button",{className:"btn pb-0",style:{backgroundColor:"#325b86"},onClick:()=>A(!1),children:[" ",e.jsx("h5",{children:"Add Address"})]})]}),n.map((s,t)=>e.jsxs("div",{className:"addressContainer p-3 mb-2",style:{backgroundColor:o===s._id||i&&t===0?"#e3f1f2":""},children:[e.jsxs("div",{className:"d-flex justify-content-between ",children:[e.jsxs("div",{className:"form-check form-check-inline ",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"selectAddress",id:"inlineRadio1",onChange:()=>f(s._id),defaultChecked:t==0}),e.jsx("label",{className:"form-check-label gap-6",children:e.jsx("h6",{children:s.name})})]}),e.jsx("div",{className:"",children:e.jsx(l,{to:`/editAddress/${s._id}`,children:e.jsx("button",{className:"btn",style:{backgroundColor:"#325b86"},children:e.jsx("h6",{className:"m-0",children:"+ Edit"})})})})]}),e.jsxs("div",{className:"mx-4 my-2",style:{color:"grey"},children:[e.jsx("h6",{children:e.jsxs("span",{children:[s.address.house_no," ",s.address.area,",",s.address.state,"    ",s.address.pincode]})}),e.jsx("h6",{children:s.mobile})]}),o===s._id||i&&t===0?e.jsxs("div",{className:"d-flex align-item-center justify-content-center",style:{marginTop:"-20px"},children:[h==="true"&&e.jsx(l,{to:`/payment/${s._id}`,children:e.jsx("button",{className:"form-button text-center",type:"submit",onClick:()=>{r({type:"payment",payload:!1})},children:"Submit"})}),h==="false"&&e.jsx(l,{to:`/buyNow/${x}`,children:e.jsx("button",{className:"form-button text-center",type:"submit",onClick:()=>{r({type:"payment",payload:!1}),localStorage.setItem("id",s._id)},children:"Submit"})})]}):""]},t))]})}):e.jsxs("div",{className:"addressHeading",style:{flexDirection:"column"},children:[e.jsx("h1",{className:"text-center",children:"ADD DELIVERY ADDRESS"}),e.jsx("form",{onSubmit:p,method:"post",children:e.jsx("div",{className:"pt-1 p-5 form-inner-container",children:e.jsxs("div",{children:[e.jsx("input",{name:"name",placeholder:"Enter Your Name"}),e.jsx("div",{children:e.jsx("input",{name:"mobile",placeholder:"Enter Your Mobile"})}),e.jsx("div",{children:e.jsx("input",{name:"house_no",placeholder:"House No ./Building name"})}),e.jsx("div",{children:e.jsx("input",{name:"area",placeholder:"Road name/Area/Colony"})}),e.jsx("input",{type:"number",name:"pincode",placeholder:"Enter Pincode"}),e.jsx("div",{children:e.jsxs("select",{name:"state",children:[e.jsx("option",{children:"Select State"}),e.jsx("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),e.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),e.jsx("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),e.jsx("option",{value:"Assam",children:"Assam"}),e.jsx("option",{value:"Bihar",children:"Bihar"}),e.jsx("option",{value:"Chandigarh",children:"Chandigarh"}),e.jsx("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),e.jsx("option",{value:"Dadra and Nagar Haveli and Daman and Diu",children:"Dadra and Nagar Haveli and Daman and Diu"}),e.jsx("option",{value:"Delhi",children:"Delhi"}),e.jsx("option",{value:"Goa",children:"Goa"})]})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"form-button text-center",type:"submit",children:"Submit"})})]})})})]})}),e.jsx("div",{className:"",children:e.jsx(P,{quantities:j})})]}):e.jsx("div",{className:"text-center mt-5",children:e.jsx(w,{})})})}export{Y as default};

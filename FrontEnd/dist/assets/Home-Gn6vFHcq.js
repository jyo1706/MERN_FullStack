import{j as e,r as a,a as t,d}from"./vendor-D_SluWwt.js";import{U as m}from"./index-BosGv7D6.js";import{P as o}from"./ProductHeader-BNOot3Zw.js";function h(){const i=Array.from({length:10}).map((c,r)=>e.jsxs("div",{className:"homeCard shimmerCard",children:[e.jsx("div",{className:"text-center h-75",children:" "}),e.jsxs("div",{className:"mb-1 cardDetail",children:[e.jsx("span",{children:e.jsx("h6",{className:"cardHeading"})}),e.jsx("div",{className:"cardHeading ShimmerHeading"}),e.jsxs("div",{className:"cardPrice ShimmerPrice",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsx("div",{className:"review ShimmerReview"})]})]},r));return e.jsx("div",{children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"homeCardContainer",children:i})})})}function v(){const[i,c]=a.useState([]),{search:r}=a.useContext(m);a.useState(new Date),a.useEffect(()=>{t.get("https://mern-fullstack-1-j3k1.onrender.com/home",{withCredentials:!0}).then(s=>{c(s.data.data)}).catch(s=>{console.log(s),s.response.data.status===401&&navigator("/login")})},[]);const n=i.filter(s=>s.name.includes(r.charAt(0).toUpperCase()+r.slice(1)));return e.jsxs(e.Fragment,{children:[e.jsx(o,{}),n!=""?e.jsx("div",{className:"container",children:e.jsx("div",{className:"homeCardContainer",children:n.length===0?e.jsx("div",{className:"product-not-found",children:e.jsx("span",{style:{fontSize:"15px",color:"grey",wordSpacing:"2px",letterSpacing:"-1px"},children:"sorry product not available"})}):n.map((s,l)=>e.jsx(d,{to:`/productView/${s._id}`,children:e.jsxs("div",{className:"homeCard",children:[e.jsx("div",{className:"text-center",children:e.jsx("img",{src:s.image.url,alt:s.name,lading:"lazy"})}),e.jsxs("div",{className:"mb-1 cardDetail",children:[e.jsx("span",{children:e.jsx("h6",{className:"cardHeading text-center",children:s.name})}),e.jsxs("div",{className:"cardPrice",children:[e.jsxs("span",{children:["₹",Math.ceil(s.price-s.price*s.original_price/100)]}),e.jsx("span",{children:e.jsxs("del",{children:["₹",s.price]})}),e.jsxs("span",{children:[s.original_price,"% Off"]})]}),e.jsx("div",{children:s.deliveryCharge}),e.jsx("div",{className:"review",style:{color:"green",marginRight:"10px"}})]})]})},l))})}):e.jsx(h,{})]})}export{v as default};

import{r as l,u as x,a,j as e,d as u,f as j,S as n}from"./vendor-D_SluWwt.js";function f(){const[s,i]=l.useState(),o=x();l.useEffect(()=>{a.get("https://mern-fullstack-1-j3k1.onrender.com/findOrder",{withCredentials:!0}).then(r=>i(r.data.data)).catch(r=>console.log(r))},[]);const h=(r,t)=>{n.fire({title:"Are you sure?",text:"Cancel Product",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then(d=>{console.log(d),d.isConfirmed===!0&&a.post(`https://mern-fullstack-1-j3k1.onrender.com/cancelOrder/${r}`,t,{withCredentials:!0}).then(c=>{c.data.message==="order cancel successfully"?(n.fire("Cancel!","Product Cancel successfully","success"),o(0)):n.fire("Error","Failed to cancel product","error")}).catch(c=>console.log(c))})};return e.jsx(e.Fragment,{children:s?e.jsxs("div",{className:"container-fluid w-75  my-5 table-container",children:[e.jsx("h1",{className:"text-center text-blue m-auto",style:{backgroundColor:"688bf9"},children:"Order Products"}),e.jsxs("table",{className:"table m-4 text-center bg-white",children:[e.jsx("thead",{className:"",children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{children:"Product"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Per Product Price"}),e.jsx("th",{children:"Total Price"}),e.jsx("th",{children:"Image"}),e.jsx("th",{children:"Address"}),e.jsx("th",{children:"payment"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s&&s.map(r=>r.productName.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.name}),e.jsx("td",{children:t.quantity}),e.jsx("td",{children:t.price}),e.jsx("td",{children:t.quantity*t.price}),e.jsx("td",{children:e.jsx("img",{src:t.image.url,width:"100px"})}),e.jsxs("td",{children:[r.address.house_no,",",r.address.area,",",e.jsx("br",{}),r.address.state,",",e.jsx("br",{}),r.address.pincode]}),e.jsx("td",{children:r.paymentType}),e.jsx("td",{children:e.jsx(u,{onClick:()=>{h(r._id,t._id)},children:e.jsx("button",{className:"btn btn-danger",style:{fontSize:"10px"},children:"Cancel Product"})})})]},t._id)))})]})]}):e.jsx("div",{className:"text-center mt-5",children:e.jsx(j,{})})})}export{f as default};

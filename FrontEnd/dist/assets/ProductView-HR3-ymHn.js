import{g as u,u as x,r as i,a as n,j as a,d as h,F as j,h as g,f as p,S as f}from"./vendor-D_SluWwt.js";function w(){const d=u().id,e=x();i.useEffect(()=>{n.get(`https://mern-fullstack-1-j3k1.onrender.com/view/${d}`,{withCredentials:!0}).then(t=>{r(t.data)}).catch(t=>{e("/login"),console.log(t)})},[]);const o=()=>{n.get(`https://mern-fullstack-1-j3k1.onrender.com/addTocard/${d}`,{withCredentials:!0}).then(t=>{t.data.userData.role==="user"?(r(t.data),f.fire({title:t.data.message,icon:"success",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"ok!"}),e(0)):e("/login")}).catch(t=>{e("/login"),console.log(t)})},[s,r]=i.useState({}),c=s.data&&s.data.price,l=s.data&&s.data.original_price,m=s.data&&s.data._id;return a.jsx(a.Fragment,{children:s.data&&s.data?a.jsxs("div",{className:"container-fluid productViewContainer mt-5",children:[a.jsxs("div",{className:"productImages",children:[a.jsx("img",{src:s.data&&s.data.image.url}),a.jsx("img",{src:s.data&&s.data.image.url}),a.jsx("img",{src:s.data&&s.data.image.url}),a.jsx("img",{src:s.data&&s.data.image.url})]}),a.jsxs("div",{className:"productImage",children:[a.jsx("img",{src:s.data&&s.data.image.url}),a.jsxs("div",{className:"buttons mt-5 w-100",children:[a.jsx("button",{className:"btn first btnAddToCart",onClick:o,children:"Add TO Cart"}),a.jsx(h,{to:`/buynow/${m}`,children:a.jsx("button",{className:"btn second btnAddToCart mx-2",children:"Buy Now"})})]})]}),a.jsxs("div",{className:"productDetail",children:[a.jsx("h1",{children:s.data&&s.data.des}),a.jsxs("div",{className:"productPrice",children:[a.jsxs("span",{children:["₹",Math.ceil(c-c*l/100)]}),a.jsx("span",{children:a.jsxs("del",{children:["₹",s.data&&s.data.price]})}),a.jsxs("span",{children:[s.data&&s.data.original_price,"% Off"]})]}),a.jsx("div",{className:"productRating",children:a.jsxs("h6",{className:"starIcon",children:[a.jsx("span",{children:"4.5"}),a.jsx(j,{icon:g})]})}),a.jsx("div",{className:"productDelivery",children:s.data&&s.data.deliveryCharge})]})]}):a.jsx("div",{className:"text-center m-5 ",children:a.jsx(p,{className:"loader"})})})}export{w as default};
